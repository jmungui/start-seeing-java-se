<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.2.final using JasperReports Library version 6.21.2-8434a0bd7c3bbc37cbf916f2968d35e4b165821a  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="bitacora" pageWidth="612" pageHeight="792" columnWidth="612" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="c74798c9-2dd4-4f8a-869a-24e46685d156">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="START_SEEING"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="usuario" class="java.lang.String"/>
	<parameter name="fecha_inicio" class="java.sql.Date"/>
	<parameter name="fecha_fin" class="java.sql.Date"/>
	<parameter name="logo" class="java.io.InputStream" isForPrompting="false"/>
	<queryString language="SQL">
		<![CDATA[SELECT 
    usuario AS Usuario,
    accion AS "Acción",
    fecha AS Fecha
FROM bitacora
WHERE
    ( $P{usuario} IS NULL OR $P{usuario} = '' OR usuario = $P{usuario} )
AND
    (
        $P{fecha_inicio} IS NULL 
        OR $P{fecha_fin} IS NULL
        OR DATE(fecha) BETWEEN $P{fecha_inicio} AND $P{fecha_fin}
    )
ORDER BY fecha DESC]]>
	</queryString>
	<field name="Usuario" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="usuario"/>
		<property name="com.jaspersoft.studio.field.label" value="Usuario"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="bitacora"/>
	</field>
	<field name="Acción" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="accion"/>
		<property name="com.jaspersoft.studio.field.label" value="Acción"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="bitacora"/>
	</field>
	<field name="Fecha" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fecha"/>
		<property name="com.jaspersoft.studio.field.label" value="Fecha"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="bitacora"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="50" y="23" width="302" height="30" uuid="623bb703-83e3-4822-ba03-006adbe198f4"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Reporte bitácora]]></text>
			</staticText>
			<textField>
				<reportElement x="352" y="0" width="260" height="26" uuid="0761a7bb-b881-493d-97f1-944842465c35">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Fecha de impresion: "+new java.text.SimpleDateFormat(
    "d 'de' MMMM 'de' yyyy",
    new java.util.Locale("es","ES")
).format(new java.util.Date())]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="352" y="26" width="260" height="26" uuid="fe9000d8-842f-402f-a22c-6fcca7c51ed6">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Hora de impresión: " +
new java.text.SimpleDateFormat("HH:mm:ss")
    .format(new java.util.Date())]]></textFieldExpression>
			</textField>
			<image hAlign="Center">
				<reportElement x="0" y="0" width="50" height="53" uuid="f68e8917-da39-4e9d-85cd-c29e6c323aff"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
		</band>
	</title>
	<columnHeader>
		<band height="30" splitType="Stretch">
			<staticText>
				<reportElement x="80" y="0" width="100" height="30" uuid="e9743981-2829-4c76-829d-eda16416648b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="496f2d7d-a026-4da5-aae6-79d5ab74f8c6"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Usuario]]></text>
			</staticText>
			<staticText>
				<reportElement x="180" y="0" width="350" height="30" uuid="523e02ec-0dfa-497e-b5eb-b451a5792560">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dfc819cd-cc61-4536-8317-7c28a2990cc8"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Acción]]></text>
			</staticText>
			<staticText>
				<reportElement x="530" y="0" width="82" height="30" uuid="df1ad98d-5c7a-4243-aef4-dcb1adce3cd1">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b862dff7-dc79-4bd4-8001-fb0453323963"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Fecha]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="80" height="30" uuid="648e200f-0471-4263-ac97-30d083539706">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="496f2d7d-a026-4da5-aae6-79d5ab74f8c6"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Item]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="30" splitType="Stretch">
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="80" y="0" width="100" height="30" uuid="f762ce8e-5ade-46d0-a250-ac93e70fe089">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="496f2d7d-a026-4da5-aae6-79d5ab74f8c6"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Usuario}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement x="180" y="0" width="350" height="30" uuid="5536f65d-c00b-4d29-a04e-ed98e39e64fe">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dfc819cd-cc61-4536-8317-7c28a2990cc8"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Acción}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="yyyy-MM-dd" isBlankWhenNull="true">
				<reportElement x="530" y="0" width="82" height="30" uuid="3e72a043-89bf-41ab-b68a-3249ebda2607">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b862dff7-dc79-4bd4-8001-fb0453323963"/>
				</reportElement>
				<box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Fecha}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="80" height="30" uuid="464592e7-6aea-4a46-908d-ad0b81f927af"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{COLUMN_COUNT}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="31">
			<textField>
				<reportElement x="482" y="1" width="100" height="30" uuid="0cb588cb-c4ef-43d1-8e4c-50089a172292"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="DejaVu Sans"/>
				</textElement>
				<textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="582" y="1" width="30" height="30" uuid="a73a81c3-800d-4b50-a7e5-1e3b3986dfbc">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="DejaVu Sans"/>
				</textElement>
				<textFieldExpression><![CDATA[" de " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
